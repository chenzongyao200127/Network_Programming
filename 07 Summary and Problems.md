# Summary
# 小结

每个网络应用都是基于客户端—服务器模型的。根据这个模型，一个应用是由一个服务器和一个或多个客户端组成的。
服务器管理资源，以某种方式操作资源，为它的客户端提供服务。
客户端—服务器模型中的基本操作是客户端—服务器事务，它是由客户端请求和跟随其后的服务器响应组成的。

客户端和服务器通过因特网这个全球网络来通信。从程序员的观点来看，我们可以把因特网看成是一个全球范围的主机集合，具有以下几个属性：

 - 每个因特网主机都有一个唯一的 32 位名字，称为它的 IP 地址。
 - IP 地址的集合被映射为一个因特网域名的集合。
 - 不同因特网主机上的进程能够通过连接互相通信。

客户端和服务器通过使用套接字接口建立连接。一个套接字是连接的一个端点，连接以文件描述符的形式提供给应用程序。
套接字接口提供了打开和关闭套接字描述符的函数。客户端和服务器通过读写这些描述符来实现彼此间的通信。

Web 服务器使用 HTTP 协议和它们的客户端（例如浏览器）彼此通信。浏览器向服务器请求静态或者动态的内容。
 - 对静态内容的请求是通过从服务器磁盘取得文件并把它返回给客户端来服务的。
 - 对动态内容的请求是通过在服务器上一个子进程的上下文中运行一个程序并将它的输出返回给客户端来服务的。
 
 CGI 标准提供了一组规则，来管理客户端如何将程序参数传递给服务器，服务器如何将这些参数以及其他信息传递给子进程，以及子进程如何将它的输岀发送回客户端。

只用几百行 C 代码就能实现一个简单但是有功效的 Web 服务器，它既可以提供静态内容，也可以提供动态内容。

====================================================================================================
防止注入攻击，特别是在处理动态内容时，是网络编程和服务器管理中的一个重要考虑。注入攻击通常发生在应用程序未能正确地验证或清理外部输入数据时，导致攻击者能够注入恶意代码或命令。以下是一些防止注入攻击的常用策略：

1. **验证所有输入**：对所有用户输入进行严格验证。确保输入符合预期的格式，并拒绝任何不符合规格的请求。

2. **使用参数化查询**：如果动态内容涉及到数据库操作，使用参数化查询而不是字符串拼接。参数化查询可以有效防止SQL注入攻击。

3. **使用白名单**：对于所有预期的输入，使用白名单来定义允许的字符集。这意味着仅接受已知安全的输入，而不是试图列出并阻止所有可能的恶意输入。

4. **适当的字符转义**：在处理输入时，对特殊字符进行转义，这样在传递给解释器之前，这些字符就不会被误解为代码的一部分。

5. **最小权限原则**：确保服务器上运行的子进程权限尽可能低。限制子进程的能力可以减少注入攻击成功的可能性和潜在的损害。

6. **使用安全的 API**：选择那些自动进行必要安全检查的库和API。这些库通常提供了对输入进行清理和验证的功能。

7. **内容安全策略（CSP）**：在Web服务器上实施内容安全策略可以帮助减轻跨站脚本攻击（XSS）的风险，这是另一种常见的注入攻击形式。

8. **安全的错误处理**：避免在错误消息中显示过多的信息，特别是那些可能帮助攻击者利用注入漏洞的信息。

9. **定期的代码审查和安全测试**：通过代码审查和自动化的安全测试来识别可能的安全漏洞。

10. **更新和打补丁**：定期更新您的系统、应用程序和依赖库，以确保所有已知的安全漏洞都被修补。

通过实施这些策略，可以显著减少注入攻击的风险，并增强您的Web应用程序的整体安全性。
====================================================================================================



参考文献说明
有关因特网的官方信息源被保存在一系列的可免费获取的带编号的文档中，称为 RFC（Requests for Comments，请求注解，Internet 标准（草案））。在以下网站可获得可搜索的 RFC 的索引：
http://rfc-editor.org
RFC 通常是为因特网基础设施的开发者编写的，因此，对于普通读者来说，往往过于详细了。然而，要想获得权威信息，没有比它更好的信息来源了。HTTP/1.1 协议记录在 RFC2616 中。MIME 类型的权威列表保存在：
http://www.iana.org/assignments/media-types

Kerrisk 是全面 Linux 编程的圣经，提供了现代网络编程的详细讨论【62】。关于计算机网络互联有大量很好的通用文献【65，84，114 】。
伟大的科技作家 W. Richard Stevens 编写了一系列相关的经典文献，如髙级 Unix 编程【111】、因特网协议【109，120，107】，以及 Unix 网络编程【108，110】。认真学习 Unix 系统编程的学生会想要研究所有这些内容。不幸的是，Stevens 在 1999 年 9 月 1 日逝世。我们会永远纪住他的贡献。

====================================================================================================

# 练习题